{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000\", // no trailing slash\r\n  withCredentials: true, // keep if using cookies\r\n});\r\n\r\n// Optional: Add auth token if needed\r\nif (typeof window !== \"undefined\") {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  }\r\n}\r\n\r\nexport default api;\r\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;AACtB;;AAEA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEA,qCAAqC;AACrC;;uCAOe","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/components/CommentSection.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport api from \"@/services/api\";\r\n\r\nconst CommentSection = ({ postId }) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [newComment, setNewComment] = useState(\"\");\r\n\r\n  const fetchComments = async () => {\r\n    try {\r\n      const res = await api.get(`/api/posts/${postId}/comments`);\r\n      setComments(res.data);\r\n    } catch (err) {\r\n      console.error(\"Failed to load comments\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (showComments) {\r\n      fetchComments();\r\n    }\r\n  }, [showComments]);\r\n\r\n  const handleCommentSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!newComment.trim()) return;\r\n\r\n    try {\r\n      await api.post(`/api/posts/${postId}/comments`, {\r\n        content: newComment.trim(),\r\n      });\r\n      setNewComment(\"\");\r\n      fetchComments(); // Refresh comments\r\n    } catch (err) {\r\n      console.error(\"Failed to post comment\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setShowComments((prev) => !prev)}\r\n        className=\"text-blue-600 font-medium\"\r\n      >\r\n        {showComments ? \"Hide Comments\" : \"View Comments\"}\r\n      </button>\r\n\r\n      {showComments && (\r\n        <div className=\"mt-2\">\r\n          {/* Comment Input + Post Button */}\r\n          <form\r\n            onSubmit={handleCommentSubmit}\r\n            className=\"mb-3 flex items-center gap-2\"\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Write a comment...\"\r\n              value={newComment}\r\n              onChange={(e) => setNewComment(e.target.value)}\r\n              className=\"flex-1 border px-3 py-2 text-sm rounded-md placeholder-gray-600 text-black\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n            >\r\n              Post\r\n            </button>\r\n          </form>\r\n\r\n          {/* Comments List */}\r\n          <div className=\"space-y-2\">\r\n            {comments.length === 0 ? (\r\n              <p className=\"text-gray-500\">No comments yet.</p>\r\n            ) : (\r\n              comments.map((comment) => (\r\n                <div key={comment.id} className=\"text-sm\">\r\n                  <span className=\"font-semibold text-neutral-400\">\r\n                    @{comment.user?.username || \"Unknown\"}\r\n                  </span>\r\n                  <span className=\"text-gray-600\">: {comment.content}</span>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSection;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEA,MAAM,iBAAiB,CAAC,EAAE,MAAM,EAAE;IAChC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,OAAO,SAAS,CAAC;YACzD,YAAY,IAAI,IAAI;QACtB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,cAAc;YAChB;QACF;IACF,GAAG;QAAC;KAAa;IAEjB,MAAM,sBAAsB,OAAO;QACjC,EAAE,cAAc;QAChB,IAAI,CAAC,WAAW,IAAI,IAAI;QAExB,IAAI;YACF,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,OAAO,SAAS,CAAC,EAAE;gBAC9C,SAAS,WAAW,IAAI;YAC1B;YACA,cAAc;YACd,iBAAiB,mBAAmB;QACtC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0BAA0B;QAC1C;IACF;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBACC,SAAS,IAAM,gBAAgB,CAAC,OAAS,CAAC;gBAC1C,WAAU;0BAET,eAAe,kBAAkB;;;;;;YAGnC,8BACC,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBACC,UAAU;wBACV,WAAU;;0CAEV,8OAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,WAAU;;;;;;0CAEZ,8OAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;kCAMH,8OAAC;wBAAI,WAAU;kCACZ,SAAS,MAAM,KAAK,kBACnB,8OAAC;4BAAE,WAAU;sCAAgB;;;;;uEAE7B,SAAS,GAAG,CAAC,CAAC,wBACZ,8OAAC;gCAAqB,WAAU;;kDAC9B,8OAAC;wCAAK,WAAU;;4CAAiC;4CAC7C,QAAQ,IAAI,EAAE,YAAY;;;;;;;kDAE9B,8OAAC;wCAAK,WAAU;;4CAAgB;4CAAG,QAAQ,OAAO;;;;;;;;+BAJ1C,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;AAapC;uCAEe","debugId":null}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/components/PostCard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport api from \"@/services/api\";\r\nimport { FaHeart, FaRegHeart } from \"react-icons/fa\";\r\nimport CommentSection from \"./CommentSection\";\r\n\r\nconst PostCard = ({ post }) => {\r\n  const { id, imageUrl, caption, tags, createdBy, likedByUser, likeCount } =\r\n    post;\r\n\r\n  const [liked, setLiked] = useState(!!likedByUser);\r\n\r\n  const [likes, setLikes] = useState(likeCount || 0);\r\n\r\n  const toggleLike = async () => {\r\n    try {\r\n      const res = await api.post(`/api/posts/${id}/like`);\r\n      setLiked(res.data.liked); // Update UI toggle\r\n      setLikes(res.data.likes); // Update like count\r\n    } catch (err) {\r\n      console.error(\"Error toggling like:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\r\n      <img src={imageUrl} alt=\"post\" className=\"w-full h-64 object-cover\" />\r\n      <div className=\"p-4\">\r\n        <div className=\"font-semibold mb-2 text-neutral-800\">\r\n          @{createdBy?.username || \"Unknown\"}\r\n        </div>\r\n        <p className=\"text-gray-800 mb-2\">\r\n          {caption.replace(/#[\\w_]+/g, \"\").trim()}\r\n        </p>\r\n\r\n        <div className=\"flex flex-wrap gap-2 mb-2\">\r\n          {tags?.map((tag, i) => (\r\n            <span\r\n              key={i}\r\n              className=\"bg-blue-100 text-blue-800 px-2 py-1 text-xs rounded-full\"\r\n            >\r\n              #{tag}\r\n            </span>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-2\">\r\n          <button onClick={toggleLike}>\r\n            {liked ? <FaHeart className=\"text-red-500\" /> : <FaRegHeart />}\r\n          </button>\r\n          {likes} likes\r\n        </div>\r\n\r\n        <CommentSection postId={id} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,WAAW,CAAC,EAAE,IAAI,EAAE;IACxB,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,GACtE;IAEF,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,CAAC,CAAC;IAErC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,aAAa;IAEhD,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC;YAClD,SAAS,IAAI,IAAI,CAAC,KAAK,GAAG,mBAAmB;YAC7C,SAAS,IAAI,IAAI,CAAC,KAAK,GAAG,oBAAoB;QAChD,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,KAAK;gBAAU,KAAI;gBAAO,WAAU;;;;;;0BACzC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;4BAAsC;4BACjD,WAAW,YAAY;;;;;;;kCAE3B,8OAAC;wBAAE,WAAU;kCACV,QAAQ,OAAO,CAAC,YAAY,IAAI,IAAI;;;;;;kCAGvC,8OAAC;wBAAI,WAAU;kCACZ,MAAM,IAAI,CAAC,KAAK,kBACf,8OAAC;gCAEC,WAAU;;oCACX;oCACG;;+BAHG;;;;;;;;;;kCAQX,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,SAAS;0CACd,sBAAQ,8OAAC,8IAAA,CAAA,UAAO;oCAAC,WAAU;;;;;6FAAoB,8OAAC,8IAAA,CAAA,aAAU;;;;;;;;;;4BAE5D;4BAAM;;;;;;;kCAGT,8OAAC,oIAAA,CAAA,UAAc;wBAAC,QAAQ;;;;;;;;;;;;;;;;;;AAIhC;uCAEe","debugId":null}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/app/explore/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport api from \"@/services/api\";\r\nimport PostCard from \"@/components/PostCard\";\r\n\r\nconst ExplorePage = () => {\r\n  const [posts, setPosts] = useState([]); // ✅ Initialize with empty array\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const res = await api.get(\"/api/posts\");\r\n        setPosts(res.data.posts || []); // ✅ Fallback to [] if undefined\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch posts\", err);\r\n        setPosts([]); // ✅ Avoid undefined state\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  if (loading) return <div className=\"text-center mt-10\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Explore</h1>\r\n      <div className=\"space-y-6\">\r\n        {Array.isArray(posts) && posts.length > 0 ? (\r\n          posts.map((post) => <PostCard key={post.id} post={post} />)\r\n        ) : (\r\n          <p className=\"text-gray-500\">No posts found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExplorePage;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,cAAc;IAClB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE,GAAG,gCAAgC;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,MAAM,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC;gBAC1B,SAAS,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,GAAG,gCAAgC;YAClE,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,SAAS,EAAE,GAAG,0BAA0B;YAC1C,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,8OAAC;QAAI,WAAU;kBAAoB;;;;;;IAEvD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAI,WAAU;0BACZ,MAAM,OAAO,CAAC,UAAU,MAAM,MAAM,GAAG,IACtC,MAAM,GAAG,CAAC,CAAC,qBAAS,8OAAC,8HAAA,CAAA,UAAQ;wBAAe,MAAM;uBAAf,KAAK,EAAE;;;;kFAE1C,8OAAC;oBAAE,WAAU;8BAAgB;;;;;;;;;;;;;;;;;AAKvC;uCAEe","debugId":null}}]
}