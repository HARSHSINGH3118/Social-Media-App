{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000\", // no trailing slash\r\n  withCredentials: true, // keep if using cookies\r\n});\r\n\r\n// Optional: Add auth token if needed\r\nif (typeof window !== \"undefined\") {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  }\r\n}\r\n\r\nexport default api;\r\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;AACtB;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEA,qCAAqC;AACrC,wCAAmC;IACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,AAAC,UAAe,OAAN;IAC3D;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/components/CommentSection.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport api from \"@/services/api\";\r\n\r\nconst CommentSection = ({ postId }) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [newComment, setNewComment] = useState(\"\");\r\n\r\n  const fetchComments = async () => {\r\n    try {\r\n      const res = await api.get(`/api/posts/${postId}/comments`);\r\n      setComments(res.data);\r\n    } catch (err) {\r\n      console.error(\"Failed to load comments\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (showComments) {\r\n      fetchComments();\r\n    }\r\n  }, [showComments]);\r\n\r\n  const handleCommentSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!newComment.trim()) return;\r\n\r\n    try {\r\n      await api.post(`/api/posts/${postId}/comments`, {\r\n        content: newComment.trim(),\r\n      });\r\n      setNewComment(\"\");\r\n      fetchComments(); // Refresh comments\r\n    } catch (err) {\r\n      console.error(\"Failed to post comment\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setShowComments((prev) => !prev)}\r\n        className=\"text-blue-600 font-medium\"\r\n      >\r\n        {showComments ? \"Hide Comments\" : \"View Comments\"}\r\n      </button>\r\n\r\n      {showComments && (\r\n        <div className=\"mt-2\">\r\n          {/* Comment Input + Post Button */}\r\n          <form\r\n            onSubmit={handleCommentSubmit}\r\n            className=\"mb-3 flex items-center gap-2\"\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Write a comment...\"\r\n              value={newComment}\r\n              onChange={(e) => setNewComment(e.target.value)}\r\n              className=\"flex-1 border px-3 py-2 text-sm rounded-md placeholder-gray-600 text-black\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n            >\r\n              Post\r\n            </button>\r\n          </form>\r\n\r\n          {/* Comments List */}\r\n          <div className=\"space-y-2\">\r\n            {comments.length === 0 ? (\r\n              <p className=\"text-gray-500\">No comments yet.</p>\r\n            ) : (\r\n              comments.map((comment) => (\r\n                <div key={comment.id} className=\"text-sm\">\r\n                  <span className=\"font-semibold text-neutral-400\">\r\n                    @{comment.user?.username || \"Unknown\"}\r\n                  </span>\r\n                  <span className=\"text-gray-600\">: {comment.content}</span>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSection;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;AAEA,MAAM,iBAAiB;QAAC,EAAE,MAAM,EAAE;;IAChC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,yHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,AAAC,cAAoB,OAAP,QAAO;YAC/C,YAAY,IAAI,IAAI;QACtB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,cAAc;gBAChB;YACF;QACF;mCAAG;QAAC;KAAa;IAEjB,MAAM,sBAAsB,OAAO;QACjC,EAAE,cAAc;QAChB,IAAI,CAAC,WAAW,IAAI,IAAI;QAExB,IAAI;YACF,MAAM,yHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,AAAC,cAAoB,OAAP,QAAO,cAAY;gBAC9C,SAAS,WAAW,IAAI;YAC1B;YACA,cAAc;YACd,iBAAiB,mBAAmB;QACtC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0BAA0B;QAC1C;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC;gBACC,SAAS,IAAM,gBAAgB,CAAC,OAAS,CAAC;gBAC1C,WAAU;0BAET,eAAe,kBAAkB;;;;;;YAGnC,8BACC,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBACC,UAAU;wBACV,WAAU;;0CAEV,6LAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,WAAU;;;;;;0CAEZ,6LAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;kCAMH,6LAAC;wBAAI,WAAU;kCACZ,SAAS,MAAM,KAAK,kBACnB,6LAAC;4BAAE,WAAU;sCAAgB;;;;;uEAE7B,SAAS,GAAG,CAAC,CAAC;gCAGN;iDAFN,6LAAC;gCAAqB,WAAU;;kDAC9B,6LAAC;wCAAK,WAAU;;4CAAiC;4CAC7C,EAAA,gBAAA,QAAQ,IAAI,cAAZ,oCAAA,cAAc,QAAQ,KAAI;;;;;;;kDAE9B,6LAAC;wCAAK,WAAU;;4CAAgB;4CAAG,QAAQ,OAAO;;;;;;;;+BAJ1C,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAapC;GArFM;KAAA;uCAuFS","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/components/PostCard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport api from \"@/services/api\";\r\nimport { FaHeart, FaRegHeart } from \"react-icons/fa\";\r\nimport CommentSection from \"./CommentSection\";\r\n\r\nconst PostCard = ({ post }) => {\r\n  const { id, imageUrl, caption, tags, createdBy, likedByUser, likeCount } =\r\n    post;\r\n\r\n  const [liked, setLiked] = useState(!!likedByUser);\r\n\r\n  const [likes, setLikes] = useState(likeCount || 0);\r\n\r\n  const toggleLike = async () => {\r\n    try {\r\n      const res = await api.post(`/api/posts/${id}/like`);\r\n      setLiked(res.data.liked); // Update UI toggle\r\n      setLikes(res.data.likes); // Update like count\r\n    } catch (err) {\r\n      console.error(\"Error toggling like:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\r\n      <img src={imageUrl} alt=\"post\" className=\"w-full h-64 object-cover\" />\r\n      <div className=\"p-4\">\r\n        <div className=\"font-semibold mb-2 text-neutral-800\">\r\n          @{createdBy?.username || \"Unknown\"}\r\n        </div>\r\n        <p className=\"text-gray-800 mb-2\">\r\n          {caption.replace(/#[\\w_]+/g, \"\").trim()}\r\n        </p>\r\n\r\n        <div className=\"flex flex-wrap gap-2 mb-2\">\r\n          {tags?.map((tag, i) => (\r\n            <span\r\n              key={i}\r\n              className=\"bg-blue-100 text-blue-800 px-2 py-1 text-xs rounded-full\"\r\n            >\r\n              #{tag}\r\n            </span>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-2\">\r\n          <button onClick={toggleLike}>\r\n            {liked ? <FaHeart className=\"text-red-500\" /> : <FaRegHeart />}\r\n          </button>\r\n          {likes} likes\r\n        </div>\r\n\r\n        <CommentSection postId={id} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,WAAW;QAAC,EAAE,IAAI,EAAE;;IACxB,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,GACtE;IAEF,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAC,CAAC;IAErC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,aAAa;IAEhD,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,yHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,AAAC,cAAgB,OAAH,IAAG;YAC5C,SAAS,IAAI,IAAI,CAAC,KAAK,GAAG,mBAAmB;YAC7C,SAAS,IAAI,IAAI,CAAC,KAAK,GAAG,oBAAoB;QAChD,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,KAAK;gBAAU,KAAI;gBAAO,WAAU;;;;;;0BACzC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;4BAAsC;4BACjD,CAAA,sBAAA,gCAAA,UAAW,QAAQ,KAAI;;;;;;;kCAE3B,6LAAC;wBAAE,WAAU;kCACV,QAAQ,OAAO,CAAC,YAAY,IAAI,IAAI;;;;;;kCAGvC,6LAAC;wBAAI,WAAU;kCACZ,iBAAA,2BAAA,KAAM,GAAG,CAAC,CAAC,KAAK,kBACf,6LAAC;gCAEC,WAAU;;oCACX;oCACG;;+BAHG;;;;;;;;;;kCAQX,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAO,SAAS;0CACd,sBAAQ,6LAAC,iJAAA,CAAA,UAAO;oCAAC,WAAU;;;;;6FAAoB,6LAAC,iJAAA,CAAA,aAAU;;;;;;;;;;4BAE5D;4BAAM;;;;;;;kCAGT,6LAAC,uIAAA,CAAA,UAAc;wBAAC,QAAQ;;;;;;;;;;;;;;;;;;AAIhC;GAnDM;KAAA;uCAqDS","debugId":null}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/app/profile/%5Busername%5D/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport api from \"@/lib/api\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport PostCard from \"@/components/PostCard\";\r\n\r\nexport default function ProfilePage() {\r\n  const { username } = useParams();\r\n  const [user, setUser] = useState(null);\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!username) return;\r\n\r\n    const fetchUserProfile = async () => {\r\n      try {\r\n        const res = await api.get(`/users/profile/${username}`);\r\n        setUser(res.data.user);\r\n        setPosts(res.data.posts);\r\n      } catch (err) {\r\n        console.error(\"Error fetching profile:\", err);\r\n      }\r\n    };\r\n\r\n    fetchUserProfile();\r\n  }, [username]);\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"text-center mt-20 text-gray-300\">Loading profile...</div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-4xl mx-auto text-white bg-gray-900 min-h-screen\">\r\n      <h1 className=\"text-3xl font-bold text-blue-300 mb-4\">\r\n        @{user.username}\r\n      </h1>\r\n      <p className=\"text-gray-400 mb-6\">\r\n        Joined: {new Date(user.created_at).toLocaleDateString()}\r\n      </p>\r\n\r\n      <h2 className=\"text-2xl font-semibold mb-4\">Posts</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {posts.map((post) => (\r\n          <PostCard key={post.id} post={post} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAC7B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAErC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,IAAI,CAAC,UAAU;YAEf,MAAM;0DAAmB;oBACvB,IAAI;wBACF,MAAM,MAAM,MAAM,oHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,AAAC,kBAA0B,OAAT;wBAC5C,QAAQ,IAAI,IAAI,CAAC,IAAI;wBACrB,SAAS,IAAI,IAAI,CAAC,KAAK;oBACzB,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,2BAA2B;oBAC3C;gBACF;;YAEA;QACF;gCAAG;QAAC;KAAS;IAEb,IAAI,CAAC,MAAM;QACT,qBACE,6LAAC;YAAI,WAAU;sBAAkC;;;;;;IAErD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;;oBAAwC;oBAClD,KAAK,QAAQ;;;;;;;0BAEjB,6LAAC;gBAAE,WAAU;;oBAAqB;oBACvB,IAAI,KAAK,KAAK,UAAU,EAAE,kBAAkB;;;;;;;0BAGvD,6LAAC;gBAAG,WAAU;0BAA8B;;;;;;0BAC5C,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC,iIAAA,CAAA,UAAQ;wBAAe,MAAM;uBAAf,KAAK,EAAE;;;;;;;;;;;;;;;;AAKhC;GA5CwB;;QACD,qIAAA,CAAA,YAAS;;;KADR","debugId":null}}]
}