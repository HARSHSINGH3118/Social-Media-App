{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000\", // no trailing slash\r\n  withCredentials: true, // keep if using cookies\r\n});\r\n\r\n// Optional: Add auth token if needed\r\nif (typeof window !== \"undefined\") {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  }\r\n}\r\n\r\nexport default api;\r\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;AACtB;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEA,qCAAqC;AACrC,wCAAmC;IACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,AAAC,UAAe,OAAN;IAC3D;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/components/PostCard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport api from \"@/services/api\";\r\nimport { FaHeart, FaRegHeart } from \"react-icons/fa\";\r\n\r\nconst PostCard = ({ post }) => {\r\n  const { id, imageUrl, caption, tags, createdBy, likedByUser, likeCount } =\r\n    post;\r\n\r\n  const [liked, setLiked] = useState(likedByUser || false);\r\n  const [likes, setLikes] = useState(likeCount || 0);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [comments, setComments] = useState([]);\r\n  const [commentText, setCommentText] = useState(\"\");\r\n\r\n  // Toggle like API call\r\n  const toggleLike = async () => {\r\n    try {\r\n      const res = await api.post(`/api/posts/${id}/like`);\r\n      setLiked(res.data.liked);\r\n      setLikes(res.data.likes);\r\n    } catch (err) {\r\n      console.error(\"Error toggling like:\", err);\r\n    }\r\n  };\r\n\r\n  // Fetch comments when toggled\r\n  const handleToggleComments = async () => {\r\n    setShowComments((prev) => !prev);\r\n\r\n    if (!showComments) {\r\n      try {\r\n        const res = await api.get(`/api/posts/${id}/comments`);\r\n        setComments(res.data);\r\n      } catch (err) {\r\n        console.error(\"Failed to load comments\", err);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle comment submission\r\n  const handleAddComment = async (e) => {\r\n    e.preventDefault();\r\n    if (!commentText.trim()) return;\r\n\r\n    try {\r\n      const res = await api.post(`/api/posts/${id}/comments`, {\r\n        content: commentText,\r\n      });\r\n\r\n      // Add new comment to top\r\n      setComments((prev) => [...prev, res.data]);\r\n      setCommentText(\"\");\r\n    } catch (err) {\r\n      console.error(\"Failed to post comment\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white shadow-md rounded-lg overflow-hidden mb-6\">\r\n      <img src={imageUrl} alt=\"post\" className=\"w-full h-64 object-cover\" />\r\n      <div className=\"p-4\">\r\n        <div className=\"font-semibold mb-1 text-sm text-gray-700\">\r\n          @{createdBy?.username || \"Unknown\"}\r\n        </div>\r\n        <p className=\"text-gray-800 mb-2\">{caption}</p>\r\n\r\n        <div className=\"flex flex-wrap gap-2 mb-2\">\r\n          {tags?.map((tag, i) => (\r\n            <span\r\n              key={i}\r\n              className=\"bg-blue-100 text-blue-800 px-2 py-1 text-xs rounded-full\"\r\n            >\r\n              #{tag}\r\n            </span>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3 text-sm text-gray-600 mb-2\">\r\n          <button onClick={toggleLike}>\r\n            {liked ? (\r\n              <FaHeart className=\"text-red-500\" />\r\n            ) : (\r\n              <FaRegHeart className=\"text-gray-600\" />\r\n            )}\r\n          </button>\r\n          {likes} {likes === 1 ? \"like\" : \"likes\"}\r\n          <button\r\n            onClick={handleToggleComments}\r\n            className=\"ml-auto text-blue-600\"\r\n          >\r\n            {showComments ? \"Hide comments\" : \"View comments\"}\r\n          </button>\r\n        </div>\r\n\r\n        {showComments && (\r\n          <div className=\"mt-3\">\r\n            <form onSubmit={handleAddComment} className=\"mb-3 flex gap-2\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"flex-1 border rounded px-3 py-1 text-sm\"\r\n                placeholder=\"Add a comment...\"\r\n                value={commentText}\r\n                onChange={(e) => setCommentText(e.target.value)}\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-blue-500 text-white text-sm px-4 py-1 rounded hover:bg-blue-600\"\r\n              >\r\n                Post\r\n              </button>\r\n            </form>\r\n\r\n            {comments.length === 0 ? (\r\n              <p className=\"text-sm text-gray-500\">No comments yet.</p>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {comments.map((comment) => (\r\n                  <div key={comment.id} className=\"text-sm\">\r\n                    <span className=\"font-semibold\">@{comment.username}:</span>{\" \"}\r\n                    {comment.content}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///H:/Repositories/Social_media_app/social-media-frontend/src/app/explore/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport api from \"@/services/api\";\r\nimport PostCard from \"@/components/PostCard\";\r\n\r\nconst ExplorePage = () => {\r\n  const [posts, setPosts] = useState([]); // ✅ Initialize with empty array\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const res = await api.get(\"/api/posts\");\r\n        setPosts(res.data.posts || []); // ✅ Fallback to [] if undefined\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch posts\", err);\r\n        setPosts([]); // ✅ Avoid undefined state\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  if (loading) return <div className=\"text-center mt-10\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Explore</h1>\r\n      <div className=\"space-y-6\">\r\n        {Array.isArray(posts) && posts.length > 0 ? (\r\n          posts.map((post) => <PostCard key={post.id} post={post} />)\r\n        ) : (\r\n          <p className=\"text-gray-500\">No posts found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExplorePage;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,cAAc;;IAClB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE,GAAG,gCAAgC;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,MAAM;oDAAa;oBACjB,IAAI;wBACF,MAAM,MAAM,MAAM,yHAAA,CAAA,UAAG,CAAC,GAAG,CAAC;wBAC1B,SAAS,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,GAAG,gCAAgC;oBAClE,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,yBAAyB;wBACvC,SAAS,EAAE,GAAG,0BAA0B;oBAC1C,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;gCAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,6LAAC;QAAI,WAAU;kBAAoB;;;;;;IAEvD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;gBAAI,WAAU;0BACZ,MAAM,OAAO,CAAC,UAAU,MAAM,MAAM,GAAG,IACtC,MAAM,GAAG,CAAC,CAAC,qBAAS,6LAAC,iIAAA,CAAA,UAAQ;wBAAe,MAAM;uBAAf,KAAK,EAAE;;;;kFAE1C,6LAAC;oBAAE,WAAU;8BAAgB;;;;;;;;;;;;;;;;;AAKvC;GAlCM;KAAA;uCAoCS","debugId":null}}]
}